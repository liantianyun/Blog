import{_ as p,p as t,q as o,a1 as e}from"./framework-5866ffd3.js";const l={},r=e('<h1 id="比特币的原理" tabindex="-1"><a class="header-anchor" href="#比特币的原理" aria-hidden="true">#</a> 比特币的原理</h1><p>上文介绍了区块链的概念和特性，并分析了他的特性决定了这个技术所记录的数据是不可篡改的。</p><p>今天接着来介绍一下比特币的原理。</p><p>首先比特币是什么？</p><p>自然是一种货币，比特币虽然和区块链不是一个东西，前者是货币，是金融概念，后者概念上是一套数据不可篡改的分布式记账机制，但我们需要用某种方式实现这个机制——即利用计算机按照这个规则编写一个软件，因此，可以把它分类为属于“网络”的概念，但他们是都是由中本聪发明的，他在2008年发布的论文《比特币：一种点对点电子现金系统》中，详细介绍了区块链和比特币。</p><p>我们看论文标题可以知道，他是想创造一个&quot;电子现金系统&quot;，这里有两个关键字，“电子现金”就是指代“比特币”。</p><p>“系统”的意思就是他不仅提出了一个货币，而且提出了一套完整的方案，用以解决货币流通时需要面临的问题。</p><p>我们知道，一种货币要流通，就得在人们之间建立对这种货币的共识，这个货币才有价值，简单的说，就是大家认可它才行，我们需要知道这种货币怎么发行、怎么交易、怎么保证交易安全、怎么记录交易记录等等，你必须解决这些问题，大家才会认可这种的货币的价值并放心用它交易。</p><p>就像我们认可人民币和银行，是因为我们信任这些机构。我们知道政府不会随意发行货币，我们的货币购买力就有保障，我们也知道银行会老老实实的记录我们的转账行为，并保证交易正确。</p><p>因此，当别人给你一张5元的纸币，你就知道你可以用这张纸币去换取5元的东西，当银行通知你有人成功给你转了一笔账，你就知道对方的账户里一定扣了对应的钱，银行也一定把这笔交易记录存储了下来，你的账户里也一定增加了一笔钱。</p><p>在这个案例里，人民币就是“货币”，银行就是用以支撑这个货币流通的“系统”。</p><p>比特币和区块链的关系，也是这样，比特币是“货币”，基于区块链技术构建的软件，就是用以支撑比特币流通的“系统”。</p><p>当你在你的计算机上装了这个软件之后，你就成为了比特币网络一个节点了。</p><p>现在，我们接下来就看一下区块链技术是怎么解决这些货币流通问题的。</p><ol><li><p>上文提到，这个交易记录是不可篡改的，但是区块链系统没有银行，这个记录存在哪里呢？</p><p>答案是：每个人比特币网络节点上都存一份。</p><p>这个软件会有一套机制，保证你一上线，就会从其他节点把这条大家都认可的公链同步到你的电脑上。</p><p>大家的这个账本都是一致的。</p></li><li><p>比特币如何发行？</p><p>现在大家的账本都是一致的了，这时候，还会有新的交易产生，每当一笔交易产生的时候，所有节点都会受到这笔交易信息，而每个节点都会有一个自己的交易记录池，每个节点的这个池可以不一致，因为这里面的交易记录还没有验证是有效的，区块链规定，每个区块的大小限制为1MB，每隔10分钟打一个包，接着它规定：<strong>所有人都可以打包，打包成功的人，相当于为延长这个公链作了贡献，将会获得一定比特币的奖励</strong>。</p><p>你看，这就完成了比特币的发行，有了奖励，大家都抢着去打包，那这时候怎么确定谁来打包呢并且分配机制是公平的呢？</p><p>很简单，出一道题目，给所有的节点去解，并且，这个解法只能通过猜测的方式得到答案，无法通过某种技巧求解。</p><p>原理还是通过上文提到的散列函数，可能有些人忘了，这里再提一下散列函数是什么：你给定一个输入字符串，它会输出一个256的二进制数字，这样输出串的可能性，就一共有2的256次方种，当输入串发生任何微笑的改变的时候，输出串都会面目全非，毫无规律可循。</p><p>利用这个原理，比特币系统就这样出题：你把1MB能记录的下的交易信息+一个随机字符串输入这个散列函数，我要求你算出来的结果，满足前18位数都是0.</p><p>大家都只能去把这个随机的字符串给试出来，没有人可以取巧，唯一可以增加你获胜的可能性的，就是增加你的计算机性能，这样同样时间内算的次数就可以更多，也就相当于算的比别人快了。</p><p>你算出来以后，就广播给其它节点，你说，这个就是答案，其他人验证你的答案是很简单的，他只要用你算出来的结果代入散列函数，验证一下是不是前18个都是0就可以了。</p><p>大家都认可你的结果之后，你就获得了这次打包的唯一记账权，可以得到比特币奖励，而你打包好的这个块，也会被加入这个公链里面，</p><p>这个过程是不是很像在土地上挖矿，毫无规律，纯靠运气，这就是“挖比特币”就是“挖矿”这个名称的又来。</p></li><li><p>怎么保证交易是有效的呢？</p><p>这个问题具体来说是：“怎么保证这个交易是发起人自愿且确认的呢？”</p><p>还是利用密码学。</p><p>你申请加入比特币网络时，会得到一对公钥和私钥。</p><p>公钥可以公开给所有人，而私钥你的自己保管，不能告诉其他人。</p><p>当你发起一笔交易的时候呢，你用你的私钥，去给这个交易签名，表示你是确认这笔交易的。</p><p>这个签名怎么签呢？巧妙就巧妙在这个：你会利用一个叫“签名函数”的东西，你把私钥输入进去，就会得到一个签名，而且别人无法反推出你的私钥是什么。</p><p>那别人怎么知道这个名是不是你签的呢？这时候就要利用另一个神奇的工具“验证函数”，别人把这个签名，和你的“公钥”输入进这个函数，这个函数就会告诉你，这个签名是否使用这个公钥对应的私钥生成的，这样别人就可以在不知道你的私钥的情况下，依旧确认是你本人授权的这笔交易。</p><p>为什么这么神奇？别问，问就是数学（我也没搞懂）。</p></li></ol><p>你看，这样一套机制，完美的解决了“货币如何发行”、“如何保证交易的有效、不被篡改”、“交易记录可追溯”这些问题。</p><p>而且全程纯靠一个计算机软件保证，没有任何中心化的组织在运行这个金融系统。</p><p>有些人可能会想，那那些挖到矿的人不是白白增加了财富吗？</p><p>是的，但这没有什么可心理不平衡的，这件事的性质就相当于，当政府规定，可以用黄金交易的时候，你在自己家地里挖到黄金一样，你就是凭空多了一笔财富出来。</p><p>因为，货币的价值，就来源于它的<strong>公信力</strong>。</p><p>只要大家都认可一个东西，理论你就是可以用它当作一般等价物去交换物品，即便它只是一串存在计算机上的数字。</p><p>如果你在细心思考一下，你会发现，基于上述机制，你连传统意义上记录自己“余额”的钱包这个概念都不需要了，因为，这个系统内，所有的交易纪律，都被记录下来了，你只要通过这个账本去进行数学计算，一个公钥下有多少比特币，是所有人都可以算出来的。</p><p>但别人不知道，这个公钥对应的是谁，所以，它还是匿名的。</p><p>所以，那些早期去挖矿的人，是真的很有眼光！不过这个眼光背后，还是<strong>那些人愿意早点学习</strong>，早点把这些概念弄懂，才会意识到这套机制的可靠和它未来的价值。</p><p>比特币的原理大概就是上述这样了。</p><p>最后讲一下我为啥要写这两篇文章：</p><ol><li>这两个概念其实跟我的工作关系不大，但是它们其实是未来技术的发展趋势，因此，我想大致了解一下背后的原理。而了解完后，你们也会发现，这确实就是未来技术的发展趋势，因为这套技术更好，它的大规模的阻碍可能是一些监管、伦理道德方面之类的问题，但总有一天会慢慢完善逐渐应用的。</li><li>我想锻炼一下把复杂概念讲清楚的能力，在《阅读与写作讲义》中有一节有个练习题，让我给我奶奶讲清楚区块链，这个我是自认能力不足的，所以我就试试能不能书面表达，试试给其他人讲清楚。</li></ol>',27),i=[r];function n(s,a){return t(),o("div",null,i)}const _=p(l,[["render",n],["__file","17.html.vue"]]);export{_ as default};
